(this.webpackJsonpbat_genome_database_client=this.webpackJsonpbat_genome_database_client||[]).push([[0],{18:function(e,t,n){},23:function(e,t,n){},26:function(e,t,n){},43:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(35),i=n.n(c),r=n(3),o=n(4),l=n(6),h=n(5),u=(n(43),n(11)),d=n(12),j=Object(d.a)(),m=n(0);console.log("topbar logged_in",localStorage.logged_in);var b=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={login:localStorage.logged_in},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.setState({login:localStorage.logged_in})}},{key:"render",value:function(){return Object(m.jsx)("div",{className:"topBar",children:Object(m.jsxs)("div",{className:"topBarWrapper",children:[Object(m.jsx)("div",{className:"topLeft",children:Object(m.jsx)("h1",{children:Object(m.jsx)("a",{className:"logo",href:"http://localhost:3000/",children:"Bat Genome Database"})})}),Object(m.jsx)("div",{className:"topRight",children:Object(m.jsxs)("ul",{className:"pages",children:[Object(m.jsx)("li",{className:"topBarButton",children:Object(m.jsx)(u.a,{className:"topBarOption",to:"/",children:"Home"})}),Object(m.jsx)("li",{className:"topBarButton",children:Object(m.jsx)(u.a,{className:"topBarOption",to:"/about",children:"About"})}),Object(m.jsx)("li",{className:"topBarButton",children:Object(m.jsx)(u.a,{className:"topBarOption",to:"/strain",children:"Strain"})}),Object(m.jsx)("li",{className:"topBarButton",children:Object(m.jsx)(u.a,{className:"topBarOption",to:"/taxonomy",children:"Taxonomy"})}),Object(m.jsx)("li",{className:"topBarButton",children:Object(m.jsxs)(u.a,{className:"topBarOption",to:void 0===localStorage.logged_in||"false"===localStorage.logged_in?"/login":"/profile",children:[void 0===localStorage.logged_in||"false"===localStorage.logged_in?"Login":"Profile"," "]})}),void 0===localStorage.logged_in||"false"===localStorage.logged_in?Object(m.jsx)("div",{}):Object(m.jsx)("li",{className:"topBarButton",onClick:function(){localStorage.clear(),j.push("/login"),window.location.reload()},children:Object(m.jsx)(u.a,{className:"topBarOption",to:"/home",children:Object(m.jsx)("svg",{className:"w-6 h-6 logout_button",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})})]})})]})})}}]),n}(a.Component),p=n(8),x=n(2),O=(n(26),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={stringlist:a.props.Match.url.split("/").filter((function(e,t,n){return""!==e}))},a.update=a.update.bind(Object(x.a)(a)),a.create_route=a.create_route.bind(Object(x.a)(a)),a}return Object(o.a)(n,[{key:"update",value:function(e){this.setState({stringlist:e})}},{key:"create_route",value:function(e){for(var t="/",n=0;n<=e;n++)t=t.concat(this.state.stringlist[n].concat("/"));return t}},{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{className:"breadcrumb",children:this.state.stringlist.map((function(t,n){return n===e.state.stringlist.length-1?Object(m.jsxs)("div",{children:["/\xa0",":id"===t?e.props.Match.id:t,"\xa0"]},n):Object(m.jsxs)(u.a,{to:function(){return e.create_route(n)},children:["/\xa0",":id"===t?e.props.Match.id:t,"\xa0"]},n)}))})}}]),n}(a.Component)),f=(Object(p.f)(O),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={classname:"sidebar_inactive"},a.toggle_show=a.toggle_show.bind(Object(x.a)(a)),a}return Object(o.a)(n,[{key:"toggle_show",value:function(){"sidebar_inactive"===this.state.classname?this.setState({classname:"sidebar"}):this.setState({classname:"sidebar_inactive"})}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"sidebarFormat",children:[Object(m.jsx)("svg",{className:"w-6 h-6 openbtn",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:this.toggle_show,children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})}),"\u2003 ",Object(m.jsx)(O,{Crumb:this.props.Crumb,Match:this.props.Match}),Object(m.jsxs)("div",{className:this.state.classname,children:[Object(m.jsx)("svg",{className:"w-6 h-6 closebtn",fill:"white",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:this.toggle_show,children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),Object(m.jsx)(u.a,{to:"/",children:"Home"}),Object(m.jsx)(u.a,{to:"/about",children:"About"}),Object(m.jsx)(u.a,{to:"/strain",children:"Strain"}),Object(m.jsx)(u.a,{to:"/taxonomy",children:"Taxonomy"}),Object(m.jsx)(u.a,{to:"/login",children:"Login"})]})]})}}]),n}(a.Component)),g=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{Crumb:this.props.Crumb,Match:this.props.match}),"About page"]})}}]),n}(a.Component),v=Object(p.f)(g),_=n(7),y=n.n(_),C=n(16),N=n(10),w=n(15),k=n(9),S=n.n(k),I=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={access:"none",refresh:"none",user:{}},a.api=S.a.create({baseURL:S.a.defaults.baseURL+"user/login/"}),a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.submit=a.submit.bind(Object(x.a)(a)),a.setLocal=a.setLocal.bind(Object(x.a)(a)),a.setLocal({access:a.state.access,refresh:a.state.refresh,user:a.state.user}),a}return Object(o.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState(Object(w.a)({},a,n))}},{key:"submit",value:function(){var e=Object(N.a)(y.a.mark((function e(t){var n,a,s,c,i,r,o=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),n=new FormData,a=0,s=Object.entries(this.state);a<s.length;a++)c=Object(C.a)(s[a],2),i=c[0],r=c[1],n.append(i,r);return e.next=5,this.api.post("/",n).then((function(e){o.setState({access:e.data.access,refresh:e.data.refresh,user:e.data.user}),o.setLocal({access:e.data.access,refresh:e.data.refresh,user:e.data.user,logged_in:!0})})).catch((function(e){return console.log("Error detected: "+e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setLocal",value:function(e){for(var t in localStorage.access=e.access,localStorage.refresh=e.refresh,e.user)localStorage.setItem(t,e.user[t]);void 0!==e.logged_in&&(localStorage.logged_in=e.logged_in,"true"===localStorage.logged_in?j.push("/home"):j.push("/login"),window.location.reload())}},{key:"render",value:function(){return Object(m.jsxs)("form",{onSubmit:this.submit,className:"form_container",children:[Object(m.jsxs)("div",{className:"form_content",children:["Username:"," ",Object(m.jsx)("input",{name:"username",type:"text",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Password:"," ",Object(m.jsx)("input",{name:"password",type:"password",onChange:this.handleInputChange})]}),Object(m.jsx)("input",{type:"submit",value:"Submit"})]})}}]),n}(a.Component),L=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{children:Object(m.jsx)(I,{})})}}]),n}(a.Component),M=(n(23),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={items:[{name:"error"}],isLoaded:!1,search_type:"id",search_term:""},a.delete=a.delete.bind(Object(x.a)(a)),a.load_data=a.load_data.bind(Object(x.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a}return Object(o.a)(n,[{key:"load_data",value:function(){var e=Object(N.a)(y.a.mark((function e(){var t,n=this,a=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,fetch(S.a.defaults.baseURL+"strain/"+t).then((function(e){return e.json()})).then((function(e){n.setState({isLoaded:!0,items:e})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleInputChange",value:function(){var e=Object(N.a)(y.a.mark((function e(t){var n,a,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,a="checkbox"===n.type?n.checked:n.value,s=n.name,"file"!==n.type){e.next=7;break}this.state[s]=n.files[0],e.next=9;break;case 7:return e.next=9,this.setState(Object(w.a)({},s,a));case 9:if(console.log("term",this.state.search_term),console.log("type",this.state.search_type),"search_term"!==n.name){e.next=21;break}if(!this.state.search_term||!this.state.search_type){e.next=18;break}return e.next=15,this.load_data("?"+this.state.search_type+"__icontains="+this.state.search_term);case 15:console.log("list refreshed"),e.next=21;break;case 18:if(""!==n.value){e.next=21;break}return e.next=21,this.load_data();case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(N.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.search_type||!this.state.search_term){e.next=5;break}return e.next=3,this.load_data(this.state.search_type+"__icontains="+this.state.search_term);case 3:e.next=7;break;case 5:return e.next=7,this.load_data();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(N.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete("strain/"+t+"/").then((function(e){alert(204===e.status?"deleted successfully":"something went wrong")})).then((function(e){console.log(e),window.location.reload()})).catch((function(e){[403,401].includes(e.request.status)?alert("You are not logged in. To continue, please login first."):alert(e.request.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"strain_content_body",children:[Object(m.jsxs)("div",{className:"mid_title_bar",children:[Object(m.jsx)("div",{className:"select",children:Object(m.jsxs)("select",{name:"search_type",onChange:this.handleInputChange,children:[Object(m.jsx)("option",{value:"id",children:"ID"}),Object(m.jsx)("option",{value:"strain_name",children:"Name"}),Object(m.jsx)("option",{value:"scientific_name",children:"Scientific Name"})]})}),Object(m.jsx)("input",{type:"id"===this.state.search_type?"number":"text",name:"search_term",className:"search_bar",placeholder:"Search by "+this.state.search_type,onChange:this.handleInputChange})]}),Object(m.jsxs)("table",{className:"strainlist",children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"ID"}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Scientific Name"}),Object(m.jsx)("th",{children:" "})]}),Object(m.jsx)("tbody",{children:this.state.items.map((function(t,n){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t.id}),Object(m.jsx)("td",{className:"row_name",onClick:function(){return j.push("/strain/".concat(t.id))},children:t.strain_name}),Object(m.jsx)("td",{children:t.scientific_name}),Object(m.jsx)("td",{children:Object(m.jsx)("svg",{className:"w-1 h-1 row_button",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:function(){console.log("delete element"),e.delete(t.id)},children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},n)}))})]})]})}}]),n}(a.Component));n(73),n(18);function D(e){return"domain"===e?null:"phylum"===e?"domain":"class"===e?"phylum":"order"===e?"class":"family"===e?"order":"genus"===e?"family":"species"===e?"genus":"strain"===e?"species":void 0}var P=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),a=t.call(this,e),console.log("this is being constructed"),a.state={content:{},isLoaded:!1},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(N.a)(y.a.mark((function e(){var t=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("parentlist is being mounted"),e.next=3,fetch(S.a.defaults.baseURL+"tax/"+D(this.props.category.toLowerCase())+"/").then((function(e){return e.json()})).then((function(e){t.setState({isLoaded:!0,content:e})}));case 3:this.props.setDefault&&this.props.setDefault(this.state.content[0].id,D(this.props.category.toLowerCase()));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isLoaded?Object(m.jsxs)("div",{className:"form_content",children:[this.props.category_contents[0],Object(m.jsx)("select",{list:"parent",name:this.props.name,onChange:this.props.onChange,children:this.state.content.map((function(e,t){return Object(m.jsx)("option",{value:e.id,children:e.category_name},t)}))})]},this.props.category_id):Object(m.jsx)("p",{children:" loading "})}}]),n}(a.Component),R=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={species_only:!0},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.submit=a.submit.bind(Object(x.a)(a)),a.setParentID=a.setParentID.bind(Object(x.a)(a)),a}return Object(o.a)(n,[{key:"setParentID",value:function(e,t){this.setState(Object(w.a)({},t,e))}},{key:"handleInputChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;"file"===t.type?this.state[a]=t.files[0]:this.setState(Object(w.a)({},a,n))}},{key:"submit",value:function(){var e=Object(N.a)(y.a.mark((function e(t){var n,a,s,c,i,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),n=new FormData,a=0,s=Object.entries(this.state);a<s.length;a++)c=Object(C.a)(s[a],2),i=c[0],r=c[1],console.log(i,r),n.append(i,r);return console.log("formdata",n),e.next=6,S.a.post("strain/",n,{headers:{Authorization:"Bearer "+localStorage.getItem("access")}}).then((function(e){alert(e.statusText+": "+e.data.strain_name)})).then((function(e){return console.log(e)})).catch((function(e){[403,401].includes(e.request.status)?alert("You are not logged in. To continue, please login first."):alert(e.request.response)}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(m.jsxs)("form",{onSubmit:this.submit,className:"form_container",children:[Object(m.jsxs)("div",{className:"form_content",children:["Name",Object(m.jsx)("input",{name:"strain_name",type:"text",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Scientific Name",Object(m.jsx)("input",{name:"scientific_name",type:"text",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Medium",Object(m.jsx)("input",{name:"medium",type:"text",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Medium growth",Object(m.jsx)("input",{name:"medium_growth",type:"checkbox",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Medium Composition",Object(m.jsx)("input",{name:"medium_composition",type:"text",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Temperature",Object(m.jsx)("input",{name:"temperature",type:"number",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Temperature Type",Object(m.jsx)("input",{name:"temperature_type",type:"text",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Temperature Range",Object(m.jsx)("input",{name:"temperature_range",type:"text",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Reference List",Object(m.jsx)("textarea",{name:"reference_list",onChange:this.handleInputChange,rows:"4",cols:"50"})]}),Object(m.jsxs)("div",{className:"form_content",children:["Species Only",Object(m.jsx)("input",{name:"species_only",type:"checkbox",checked:this.state.species_only,onChange:this.handleInputChange})]}),this.state.species_only?Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"species",category:"strain",onChange:this.handleInputChange,category_contents:["Species"],setDefault:this.setParentID})}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"domain",category:"phylum",onChange:this.handleInputChange,category_contents:["Domain"],setDefault:this.setParentID})}),Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"phylum",category:"class",onChange:this.handleInputChange,category_contents:["Phylum"],setDefault:this.setParentID})}),Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"class",category:"order",onChange:this.handleInputChange,category_contents:["Class"],setDefault:this.setParentID})}),Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"order",category:"family",onChange:this.handleInputChange,category_contents:["Order"],setDefault:this.setParentID})}),Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"family",category:"genus",onChange:this.handleInputChange,category_contents:["Family"],setDefault:this.setParentID})}),Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"genus",category:"species",onChange:this.handleInputChange,category_contents:["Genus"],setDefault:this.setParentID})}),Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"species",category:"strain",onChange:this.handleInputChange,category_contents:["Species"],setDefault:this.setParentID})})]}),Object(m.jsxs)("div",{className:"form_content",children:["Type Strain(file)",Object(m.jsx)("input",{name:"type_strain",type:"file",onChange:this.handleInputChange})]}),Object(m.jsx)("input",{type:"submit",value:"Submit"})]})}}]),n}(a.Component),B=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={component:"list",search_type:"id"},a.handleComponent=a.handleComponent.bind(Object(x.a)(a)),a}return Object(o.a)(n,[{key:"handleComponent",value:function(){return"list"===this.state.component?Object(m.jsx)(M,{}):Object(m.jsx)(R,{})}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{Crumb:this.props.Crumb,Match:this.props.match}),Object(m.jsxs)("div",{className:"strain_content",children:[Object(m.jsxs)("div",{className:"title_bar",children:[Object(m.jsx)("div",{className:"left_title_bar",children:"list"===this.state.component?Object(m.jsx)("h1",{className:"title",children:"Strain Database"}):Object(m.jsx)("h1",{className:"title",children:"Add Strain"})}),Object(m.jsx)("div",{className:"right_title_bar",children:"list"===this.state.component?Object(m.jsx)("svg",{className:"title_bar_button",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:function(){return e.setState({component:"add"})},children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}):Object(m.jsx)("svg",{className:"title_bar_button",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:function(){return e.setState({component:"list"})},children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),this.handleComponent()]})]})}}]),n}(a.Component),E=Object(p.f)(B),T=(n(74),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{Crumb:this.props.Crumb,Match:this.props.match}),Object(m.jsx)("div",{className:"homepage",children:Object(m.jsx)("h1",{children:"Welcome to the Home Page!"})})]})}}]),n}(a.Component)),A=Object(p.f)(T),H=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={rendered_object:"default"},a}return Object(o.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"thandler",children:[Object(m.jsx)("div",{className:"sectionTitle",children:"Select Taxonomy Category"}),Object(m.jsxs)("div",{className:"tax_picker",children:[Object(m.jsxs)("div",{className:"tax_picker_row",children:[Object(m.jsx)("button",{className:"category_button",onClick:function(){return j.push("/taxonomy/domain")},children:"DOMAIN"}),Object(m.jsx)("button",{className:"category_button",onClick:function(){return j.push("/taxonomy/phylum")},children:"PHYLUM"}),Object(m.jsx)("button",{className:"category_button",onClick:function(){return j.push("/taxonomy/class")},children:"CLASS"})]}),Object(m.jsxs)("div",{className:"tax_picker_row",children:[Object(m.jsx)("button",{className:"category_button",onClick:function(){return j.push("/taxonomy/order")},children:"ORDER"}),Object(m.jsx)("button",{className:"category_button",onClick:function(){return j.push("/taxonomy/family")},children:"FAMILY"}),Object(m.jsx)("button",{className:"category_button",onClick:function(){return j.push("/taxonomy/genus")},children:"GENUS"}),Object(m.jsx)("button",{className:"category_button",onClick:function(){return j.push("/taxonomy/species")},children:"SPECIES"})]})]})]})}}]),n}(a.Component),z=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{Crumb:this.props.Crumb,Match:this.props.match}),Object(m.jsx)("div",{className:"taxonomy",children:Object(m.jsx)(H,{})})]})}}]),n}(a.Component),U=Object(p.f)(z),G=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={content:{strain_name:"error"},isLoaded:!1,component:"content",section:"name"},a.toEdit={species_only:!0},a.showContents=a.showContents.bind(Object(x.a)(a)),a.editContent=a.editContent.bind(Object(x.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.update=a.update.bind(Object(x.a)(a)),a.load_info=a.load_info.bind(Object(x.a)(a)),a.contentHandler=a.contentHandler.bind(Object(x.a)(a)),a.setContentHandler=a.setContentHandler.bind(Object(x.a)(a)),a}return Object(o.a)(n,[{key:"load_info",value:function(){var e=Object(N.a)(y.a.mark((function e(){var t=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:8000/strain/".concat(this.props.id).concat("/")).then((function(e){return e.json()})).then((function(e){t.setState({isLoaded:!0,content:e})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(N.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_info();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setContentHandler",value:function(e){this.setState({section:e})}},{key:"contentHandler",value:function(){return console.log("contentHAndler"),"name"===this.state.section?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"section_title",children:"Name and Taxonomic Classification"}),Object(m.jsxs)("ul",{className:"section_contents",children:[Object(m.jsxs)("li",{className:"information",children:[Object(m.jsx)("b",{children:"Scientific Name"})," \u2003",Object(m.jsx)("i",{children:this.state.content.scientific_name})]}),Object(m.jsxs)("li",{className:"information",children:[Object(m.jsx)("b",{children:"Domain"})," \u2003",Object(m.jsx)("i",{children:this.state.content.domain?this.state.content.domain.category_name:null})]}),Object(m.jsxs)("li",{className:"information",children:[Object(m.jsx)("b",{children:"Phylum"})," \u2003",Object(m.jsx)("i",{children:this.state.content.phylum.category_name})]}),Object(m.jsxs)("li",{className:"information",children:[Object(m.jsx)("b",{children:"Class"})," \u2003",Object(m.jsx)("i",{children:this.state.content.class_name.category_name})]}),Object(m.jsxs)("li",{className:"information",children:[Object(m.jsx)("b",{children:"Order"})," \u2003",Object(m.jsx)("i",{children:this.state.content.order.category_name})]}),Object(m.jsxs)("li",{className:"information",children:[Object(m.jsx)("b",{children:"Family"})," \u2003",Object(m.jsx)("i",{children:this.state.content.family.category_name})]}),Object(m.jsxs)("li",{className:"information",children:[Object(m.jsx)("b",{children:"Genus"})," \u2003",Object(m.jsx)("i",{children:this.state.content.genus.category_name})]}),Object(m.jsxs)("li",{className:"information",children:[Object(m.jsx)("b",{children:"Species"})," \u2003",Object(m.jsx)("i",{children:this.state.content.species.category_name})]})]})]}):"culture"===this.state.section?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"section_title",children:"Culture and Growth Conditions"}),Object(m.jsxs)("ul",{className:"section_contents",children:[Object(m.jsxs)("li",{className:"information",children:[Object(m.jsx)("b",{children:"Medium"})," \u2003",Object(m.jsx)("i",{children:this.state.content.medium})]}),Object(m.jsxs)("li",{className:"information",children:[Object(m.jsx)("b",{children:"Medium Composition"})," \u2003",Object(m.jsx)("i",{children:this.state.content.medium_composition})]}),Object(m.jsxs)("li",{className:"information",children:[Object(m.jsx)("b",{children:"Medium Growth"})," \u2003",Object(m.jsx)("i",{children:this.state.content.medium_growth})]}),Object(m.jsxs)("li",{className:"information",children:[Object(m.jsx)("b",{children:"Temperature"})," \u2003",Object(m.jsx)("i",{children:this.state.content.temperature})]}),Object(m.jsxs)("li",{className:"information",children:[Object(m.jsx)("b",{children:"Temperature Range"})," \u2003",Object(m.jsx)("i",{children:this.state.content.temperature_range})]}),Object(m.jsxs)("li",{className:"information",children:[Object(m.jsx)("b",{children:"Temperature Type"})," \u2003",Object(m.jsx)("i",{children:this.state.content.temperature_type})]})]})]}):"sequence"===this.state.section?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"section_title",children:"Sequence Information"}),Object(m.jsx)("ul",{className:"section_contents",children:Object(m.jsx)("button",{children:Object(m.jsx)("a",{href:this.state.content.type_strain,children:"Get Fasta"})})})]}):void 0}},{key:"showContents",value:function(){var e=this;return Object(m.jsxs)("div",{className:"section_container",children:[Object(m.jsx)("div",{className:"section_handler",children:Object(m.jsxs)("ul",{className:"section_handler_list",children:[Object(m.jsx)("li",{className:"section_handler_item",onClick:function(){return e.setContentHandler("name")},children:"Name and Taxonomic Classification"}),Object(m.jsx)("li",{className:"section_handler_item",onClick:function(){return e.setContentHandler("culture")},children:"Culture and Growth Conditions"}),Object(m.jsx)("li",{className:"section_handler_item",onClick:function(){return e.setContentHandler("sequence")},children:"Sequence Information"})]})}),Object(m.jsx)("div",{className:"section",children:this.contentHandler()})]})}},{key:"handleInputChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;"file"===t.type?this.toEdit[a]=t.files[0]:this.toEdit[a]=n,console.log(this.toEdit)}},{key:"update",value:function(){var e=Object(N.a)(y.a.mark((function e(t){var n,a,s,c,i,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),n=new FormData,a=0,s=Object.entries(this.toEdit);a<s.length;a++)c=Object(C.a)(s[a],2),i=c[0],r=c[1],console.log(i,r),n.append(i,r);return console.log("formdata",n),e.next=6,S.a.patch(S.a.defaults.baseURL+"strain/"+this.props.id+"/",n,{headers:{Authorization:"Bearer "+localStorage.access}}).then((function(e){alert(e.statusText+": "+e.data.strain_name),console.log(e)})).then((function(e){return console.log(e)})).catch((function(e){[403,401].includes(e.request.status)?alert("You are not logged in. To continue, please login first."):alert(e.request.response)}));case 6:this.load_info();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editContent",value:function(){return Object(m.jsxs)("form",{onSubmit:this.update,className:"form_container",children:[Object(m.jsxs)("div",{className:"form_content",children:["Name",Object(m.jsx)("input",{name:"strain_name",type:"text",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Scientific Name",Object(m.jsx)("input",{name:"scientific_name",type:"text",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Medium",Object(m.jsx)("input",{name:"medium",type:"text",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Medium growth",Object(m.jsx)("input",{name:"medium_growth",type:"checkbox",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Medium Composition",Object(m.jsx)("input",{name:"medium_composition",type:"text",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Temperature",Object(m.jsx)("input",{name:"temperature",type:"number",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Temperature Type",Object(m.jsx)("input",{name:"temperature_type",type:"text",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Temperature Range",Object(m.jsx)("input",{name:"temperature_range",type:"text",onChange:this.handleInputChange})]}),Object(m.jsxs)("div",{className:"form_content",children:["Reference List",Object(m.jsx)("textarea",{name:"reference_list",onChange:this.handleInputChange,rows:"4",cols:"50"})]}),Object(m.jsxs)("div",{className:"form_content",children:["Species Only",Object(m.jsx)("input",{name:"species_only",type:"checkbox",checked:this.toEdit.species_only,onChange:this.handleInputChange})]}),this.toEdit.species_only?Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"species",category:"strain",onChange:this.handleInputChange,category_contents:["Species"]})}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"domain",category:"phylum",onChange:this.handleInputChange,category_contents:["Domain"]})}),Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"phylum",category:"class",onChange:this.handleInputChange,category_contents:["Phylum"]})}),Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"class",category:"order",onChange:this.handleInputChange,category_contents:["Class"]})}),Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"order",category:"family",onChange:this.handleInputChange,category_contents:["Order"]})}),Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"family",category:"genus",onChange:this.handleInputChange,category_contents:["Family"]})}),Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"genus",category:"species",onChange:this.handleInputChange,category_contents:["Genus"]})}),Object(m.jsx)("div",{className:"form_content",children:Object(m.jsx)(P,{name:"species",category:"strain",onChange:this.handleInputChange,category_contents:["Species"]})})]}),Object(m.jsxs)("div",{className:"form_content",children:["Type Strain(file)",Object(m.jsx)("input",{name:"type_strain",type:"file",onChange:this.handleInputChange})]}),Object(m.jsx)("input",{type:"submit",value:"Submit"})]})}},{key:"render",value:function(){var e=this;return this.state.isLoaded?Object(m.jsxs)("div",{className:"strain_content_body",children:[Object(m.jsxs)("div",{className:"name",children:[Object(m.jsxs)("div",{className:"name_left",children:["update"===this.state.component?Object(m.jsx)("b",{children:"Update\xa0"}):"",this.state.content.strain_name]}),Object(m.jsx)("div",{className:"name_right",children:"content"===this.state.component?Object(m.jsxs)("svg",{className:"title_bar_button",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:function(){e.setState({component:"update"})},children:[Object(m.jsx)("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),Object(m.jsx)("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}):Object(m.jsx)("svg",{className:"title_bar_button",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:function(){return e.setState({component:"content"})},children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),"content"===this.state.component?this.showContents():this.editContent()]}):Object(m.jsx)("div",{children:"None"})}}]),n}(a.Component),J=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{Crumb:this.props.Crumb,Match:this.props.match}),Object(m.jsx)("div",{className:"strain_content",children:Object(m.jsx)(G,{id:this.props.match.params.id})})]})}}]),n}(a.Component),F=Object(p.f)(J),q=n(38),V={Domain:[["Name","category_name","text"],["Scientific Name","scientific_name","text"],["Etymology","etymology","text"],["Proposed As","proposed_as","text"],["Publication","publication","textarea"],["Publication Status","publication_status","text"],["IJSEM List","IJSEM_list","textarea"],["Notes","notes","textarea"],["Nomenclature Status","nomenclature_status","text"],["Taxonomic Status","taxonomic_status","text"]],Phylum:[["Name","category_name","text"],["Scientific Name","scientific_name","text"],["Etymology","etymology","text"],["Proposed As","proposed_as","text"],["Publication","publication","textarea"],["Publication Status","publication_status","text"],["IJSEM List","IJSEM_list","textarea"],["Notes","notes","textarea"],["Nomenclature Status","nomenclature_status","text"],["Taxonomic Status","taxonomic_status","text"],["Parent","parent.category_name","number"]],Class:[["Name","category_name","text"],["Scientific Name","scientific_name","text"],["Etymology","etymology","text"],["Gender","gender","text"],["Proposed As","proposed_as","text"],["Publication","publication","textarea","text"],["Publication Status","publication_status","text","text"],["IJSEM List","IJSEM_list","textarea"],["Notes","notes","textarea"],["Nomenclature Status","nomenclature_status","text"],["Taxonomic Status","taxonomic_status","text"],["Parent","parent.category_name","number"]],Order:[["Name","category_name","text"],["Scientific Name","scientific_name","text"],["Etymology","etymology","text"],["Gender","gender","text"],["Proposed As","proposed_as","text"],["Publication","publication","textarea","text"],["Publication Status","publication_status","text","text"],["IJSEM List","IJSEM_list","textarea"],["Notes","notes","textarea"],["Nomenclature Status","nomenclature_status","text"],["Taxonomic Status","taxonomic_status","text"],["Parent","parent.category_name","number"]],Family:[["Name","category_name","text"],["Scientific Name","scientific_name","text"],["Etymology","etymology","text"],["Gender","gender","text"],["Proposed As","proposed_as","text"],["Publication","publication","textarea","text"],["Publication Status","publication_status","text","text"],["IJSEM List","IJSEM_list","textarea"],["Notes","notes","textarea"],["Nomenclature Status","nomenclature_status","text"],["Taxonomic Status","taxonomic_status","text"],["Parent","parent.category_name","number"]],Genus:[["Name","category_name","text"],["Scientific Name","scientific_name","text"],["Etymology","etymology","text"],["Gender","gender","text"],["Proposed As","proposed_as","text"],["Publication","publication","textarea","text"],["Publication Status","publication_status","text","text"],["IJSEM List","IJSEM_list","textarea"],["Notes","notes","textarea"],["Nomenclature Status","nomenclature_status","text"],["Taxonomic Status","taxonomic_status","text"],["Parent","parent.category_name","number"],["RNA Gene","rna_gene","file"]],Species:[["Name","category_name","text"],["Scientific Name","scientific_name","text"],["Etymology","etymology","text"],["Gender","gender","text"],["Basonym","basonym","text"],["Proposed As","proposed_as","text"],["Publication","publication","textarea","text"],["Publication Status","publication_status","text","text"],["IJSEM List","IJSEM_list","textarea"],["Notes","notes","textarea"],["Nomenclature Status","nomenclature_status","text"],["Taxonomic Status","taxonomic_status","text"],["Parent","parent.category_name","number"],["RNA Gene","rna_gene","file"]]},Y=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(r.a)(this,n),(a=t.call(this,e)).state={};var s,c,i=Object(q.a)(V[(c=a.props.category,c.charAt(0).toUpperCase().concat(c.slice(1)))]);try{for(i.s();!(s=i.n()).done;){var o=s.value;"Parent"===o[0]?a.state[o[1].split(".")[0]]=o[2]:a.state[o[1]]=o[2]}}catch(l){i.e(l)}finally{i.f()}return console.log(a.state),a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.submit=a.submit.bind(Object(x.a)(a)),a}return Object(o.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;"file"===t.type?this.state[a]=t.files[0]:this.setState(Object(w.a)({},a,n)),console.log(this.state)}},{key:"submit",value:function(){var e=Object(N.a)(y.a.mark((function e(t){var n,a,s,c,i,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),n=new FormData,a=0,s=Object.entries(this.state);a<s.length;a++)c=Object(C.a)(s[a],2),i=c[0],r=c[1],console.log(i,r),n.append(i,r);return e.next=5,S.a.post("tax/"+this.props.category+"/",n).then((function(e){alert(e.statusText+": "+e.data.category_name)})).then((function(e){return console.log(e)})).catch((function(e){[403,401].includes(e.request.status)?alert("You are not logged in. To continue, please login first."):alert(e.request.response)}));case 5:window.location.reload();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(m.jsxs)("form",{onSubmit:this.submit,className:"form_container",children:[V[this.props.category.charAt(0).toUpperCase().concat(this.props.category.slice(1))].map((function(t,n){return"Parent"===t[0]?Object(m.jsx)(P,{name:t[1].split(".")[0],onChange:e.handleInputChange,category:e.props.category,category_contents:t}):"textarea"===t[2]?Object(m.jsxs)("div",{className:"form_content",children:[t[0],Object(m.jsx)("textarea",{name:t[1].split(".")[0],onChange:e.handleInputChange,rows:"4",cols:"50"})]},n):Object(m.jsxs)("div",{className:"form_content",children:[t[0],Object(m.jsx)("input",{name:t[1],type:t[2],value:e.state.value,onChange:e.handleInputChange})]},n)})),Object(m.jsx)("input",{type:"submit",value:"Submit"})]})}}]),n}(a.Component),W=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={items:[{name:"error"}],isLoaded:!1,content:"list",search_type:"id",search_term:""},a.addCategory=a.addCategory.bind(Object(x.a)(a)),a.delete=a.delete.bind(Object(x.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a}return Object(o.a)(n,[{key:"load_data",value:function(){var e=Object(N.a)(y.a.mark((function e(){var t,n=this,a=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,fetch(S.a.defaults.baseURL+"tax/"+this.props.Category.toLowerCase()+"/"+t).then((function(e){return e.json()})).then((function(e){n.setState({isLoaded:!0,items:e})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(N.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.search_type||!this.state.search_term){e.next=5;break}return e.next=3,this.load_data(this.state.search_type+"__icontains="+this.state.search_term);case 3:e.next=7;break;case 5:return e.next=7,this.load_data();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleInputChange",value:function(){var e=Object(N.a)(y.a.mark((function e(t){var n,a,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,a="checkbox"===n.type?n.checked:n.value,s=n.name,"file"!==n.type){e.next=7;break}this.state[s]=n.files[0],e.next=9;break;case 7:return e.next=9,this.setState(Object(w.a)({},s,a));case 9:if(console.log("term",this.state.search_term),console.log("type",this.state.search_type),"search_term"!==n.name){e.next=21;break}if(!this.state.search_term||!this.state.search_type){e.next=18;break}return e.next=15,this.load_data("?"+this.state.search_type+"__icontains="+this.state.search_term);case 15:console.log("list refreshed"),e.next=21;break;case 18:if(""!==n.value){e.next=21;break}return e.next=21,this.load_data();case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addCategory",value:function(){return Object(m.jsx)(Y,{category:this.props.Category.toLowerCase()})}},{key:"delete",value:function(){var e=Object(N.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete("tax/"+this.props.Category.toLowerCase()+"/"+t+"/").then((function(e){alert(204===e.status?"deleted successfully":"something went wrong")})).then((function(e){return console.log(e)})).catch((function(e){[403,401].includes(e.request.status)?alert("You are not logged in. To continue, please login first."):console.log(e)}));case 2:window.location.reload();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{Crumb:this.props.Crumb,Match:this.props.match}),Object(m.jsxs)("div",{className:"main_name",children:[Object(m.jsxs)("div",{className:"main_name_center",children:[this.props.Category," Database"]})," ",Object(m.jsxs)("div",{className:"mid_title_bar",children:[Object(m.jsx)("div",{className:"select",children:Object(m.jsxs)("select",{name:"search_type",onChange:this.handleInputChange,children:[Object(m.jsx)("option",{value:"id",children:"ID"}),Object(m.jsx)("option",{value:"category_name",children:"Name"}),Object(m.jsx)("option",{value:"scientific_name",children:"Scientific Name"})]})}),Object(m.jsx)("input",{type:"id"===this.state.search_type?"number":"text",name:"search_term",className:"search_bar",placeholder:"Search by "+this.state.search_type,onChange:this.handleInputChange})]}),Object(m.jsx)("div",{children:"list"===this.state.content?Object(m.jsx)("svg",{className:"title_bar_button",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:function(){e.setState({content:"add"})},children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}):Object(m.jsx)("svg",{className:"title_bar_button",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:function(){return e.setState({content:"list"})},children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),"list"===this.state.content?Object(m.jsx)("div",{className:"domain",children:Object(m.jsxs)("table",{className:"strainlist",children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"ID"}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Scientific Name"}),Object(m.jsx)("th",{})]}),Object(m.jsx)("tbody",{children:this.state.items.map((function(t,n){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t.id}),Object(m.jsx)("td",{className:"row_name",onClick:function(){return j.push("/taxonomy/".concat(e.props.Category.toLowerCase()).concat("/").concat(t.id))},children:t.category_name}),Object(m.jsx)("td",{children:t.scientific_name}),Object(m.jsx)("td",{children:Object(m.jsx)("svg",{className:"w-1 h-1 row_button",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:function(){e.delete(t.id)},children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},n)}))})]})}):this.addCategory()]})}}]),n}(a.Component),K=Object(p.f)(W),Q=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={content:{name:"error"},isLoaded:!1,category:a.props.category.charAt(0).toUpperCase().concat(a.props.category.slice(1)),component:"content"},a.toEdit={},a.renderContent=a.renderContent.bind(Object(x.a)(a)),a.renderUpdate=a.renderUpdate.bind(Object(x.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.update=a.update.bind(Object(x.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch(S.a.defaults.baseURL+"tax/"+this.props.category.toLowerCase()+"/"+this.props.id+"/").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,content:t})}))}},{key:"renderContent",value:function(){var e=this;return Object(m.jsx)("div",{children:V[this.props.category.charAt(0).toUpperCase().concat(this.props.category.slice(1))].filter((function(e){return"Name"!==e[0]})).map((function(t,n){if("Parent"===t[0]){var a=t[1].split(".");return Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:t[0]}),"\xa0",Object(m.jsx)("i",{children:e.state.content[a[0]][a[1]]}),Object(m.jsx)("br",{})]},n)}return"RNA Gene"===t[0]?Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"RNA Gene"})," \u2003",Object(m.jsxs)("button",{children:[" ",Object(m.jsx)("a",{href:e.state.content.rna_gene,children:"Get Fasta"})," "]}),Object(m.jsx)("br",{})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:t[0]}),"\xa0",Object(m.jsx)("i",{children:e.state.content[t[1]]}),Object(m.jsx)("br",{})]},n)}))})}},{key:"handleInputChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;"file"===t.type?this.toEdit[a]=t.files[0]:this.toEdit[a]=n,console.log(this.toEdit)}},{key:"update",value:function(){var e=Object(N.a)(y.a.mark((function e(t){var n,a,s,c,i,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),n=new FormData,a=0,s=Object.entries(this.toEdit);a<s.length;a++)c=Object(C.a)(s[a],2),i=c[0],r=c[1],console.log(i,r),n.append(i,r);return console.log("formdata",n),e.next=6,S.a.patch("tax/"+this.props.category+"/"+this.props.id+"/",n).then((function(e){alert(e.statusText+": "+e.data.strain_name),console.log(e)})).then((function(e){return console.log(e)})).catch((function(e){[403,401].includes(e.request.status)?alert("You are not logged in. To continue, please login first."):console.log(e)}));case 6:this.componentDidMount();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderUpdate",value:function(){var e=this;return Object(m.jsxs)("form",{onSubmit:this.update,className:"form_container",children:[V[this.props.category.charAt(0).toUpperCase().concat(this.props.category.slice(1))].map((function(t,n){return"Parent"===t[0]?Object(m.jsx)(P,{name:t[1].split(".")[0],onChange:e.handleInputChange,category:e.props.category,category_contents:t}):"textarea"===t[2]?Object(m.jsxs)("div",{className:"form_content",children:[t[0],Object(m.jsx)("textarea",{name:t[1].split(".")[0],type:t[2],onChange:e.handleInputChange,rows:"4",cols:"50"})]},n):Object(m.jsxs)("div",{className:"form_content",children:[t[0],Object(m.jsx)("input",{name:t[1],type:t[2],onChange:e.handleInputChange})]},n)})),Object(m.jsx)("input",{type:"submit",value:"Submit"})]})}},{key:"render",value:function(){var e=this;return this.state.isLoaded?Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"domain",children:[Object(m.jsxs)("div",{className:"main_name",children:[Object(m.jsxs)("div",{className:"main_name_center",children:[this.state.category,"\xa0",Object(m.jsx)("i",{children:this.state.content.category_name})]}),"content"===this.state.component?Object(m.jsxs)("svg",{className:"title_bar_button",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:function(){e.setState({component:"update"})},children:[Object(m.jsx)("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),Object(m.jsx)("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}):Object(m.jsx)("svg",{className:"title_bar_button",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:function(){return e.setState({component:"content"})},children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})]}),Object(m.jsx)("div",{className:"info_handler",children:"content"===this.state.component?this.renderContent():this.renderUpdate()})]})}):Object(m.jsx)("div",{children:"None"})}}]),n}(a.Component),X=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{Crumb:this.props.Crumb,Match:this.props.match}),Object(m.jsx)("div",{className:"strain_content",children:Object(m.jsx)(Q,{category:this.props.match.params.category,id:this.props.match.params.id})})]})}}]),n}(a.Component),Z=Object(p.f)(X),$=(n(75),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"profile_container",children:[Object(m.jsxs)("div",{className:"profile_header",children:[Object(m.jsxs)("div",{className:"profile_header_left",children:[Object(m.jsx)("div",{className:"pic_container",children:"picture"}),Object(m.jsxs)("div",{className:"name_container",children:[localStorage.first_name," ",localStorage.last_name]})]}),Object(m.jsx)("div",{className:"profile_header_right"})]}),Object(m.jsxs)("div",{className:"profile_information",children:[Object(m.jsxs)("div",{className:"profile_item",children:["username ",Object(m.jsx)("i",{children:localStorage.username})]}),Object(m.jsxs)("div",{className:"profile_item",children:["email ",Object(m.jsx)("i",{children:localStorage.email})]}),Object(m.jsxs)("div",{className:"profile_item",children:["mobile_number ",Object(m.jsx)("i",{children:localStorage.mobile_number})]}),Object(m.jsxs)("div",{className:"profile_item",children:["landline_number ",Object(m.jsx)("i",{children:localStorage.landline_number})]}),Object(m.jsxs)("div",{className:"profile_item",children:["address ",Object(m.jsx)("i",{children:localStorage.address})]}),Object(m.jsxs)("div",{className:"profile_item",children:["role ",Object(m.jsx)("i",{children:localStorage.role})]})]})]})}}]),n}(a.Component)),ee=[{path:"/taxonomy/:category/:id",component:Z,name:"dynamic_category"},{path:"/taxonomy/domain",component:K,name:"domain"},{path:"/taxonomy/phylum",component:K,name:"phylum"},{path:"/taxonomy/class",component:K,name:"class"},{path:"/taxonomy/order",component:K,name:"order"},{path:"/taxonomy/family",component:K,name:"family"},{path:"/taxonomy/genus",component:K,name:"genus"},{path:"/taxonomy/species",component:K,name:"species"},{path:"/taxonomy",component:U,name:"taxonomy"},{path:"/about",component:v,name:"about"},{path:"/profile",component:$,name:"profile"},{path:"/strain/:id",component:F,name:"strainContent"},{path:"/strain",component:E,name:"strain"},{path:"/login",component:L,name:"login"},{path:"/",component:A,name:"home"}];void 0===localStorage.logged_in&&(localStorage.logged_in=!1),S.a.defaults.baseURL="http://202.92.144.124:8000/",S.a.defaults.headers.common.Authorization="Bearer "+localStorage.access;var te=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(p.b,{history:j,children:[Object(m.jsx)(b,{}),Object(m.jsx)(p.c,{children:ee.map((function(e,t){return Object(m.jsx)(p.a,{path:e.path,render:function(){return e.component===K?Object(m.jsx)(e.component,{Category:e.name=e.name.charAt(0).toUpperCase().concat(e.name.slice(1)),Crumb:e.path}):Object(m.jsx)(e.component,{Crumb:e.path})}},t)}))})]})})};i.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(te,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.b6827f14.chunk.js.map